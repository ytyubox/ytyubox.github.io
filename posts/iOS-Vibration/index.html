<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8"/>
		<meta name="og:site_name" content="Tsungyu Swift dev"/>
		<link rel="canonical" href="https://ytyubox.github.io/posts/iOS-Vibration"/>
		<meta name="twitter:url" content="https://ytyubox.github.io/posts/iOS-Vibration"/>
		<meta name="og:url" content="https://ytyubox.github.io/posts/iOS-Vibration"/>
		<title>iOS 實機測試震動 | Tsungyu Swift dev</title>
		<meta name="twitter:title" content="iOS 實機測試震動 | Tsungyu Swift dev"/>
		<meta name="og:title" content="iOS 實機測試震動 | Tsungyu Swift dev"/>
		<meta name="description" content="iOS Vibration note"/>
		<meta name="twitter:description" content="iOS Vibration note"/>
		<meta name="og:description" content="iOS Vibration note"/>
		<meta name="twitter:card" content="summary"/>
		<link rel="stylesheet" href="/styles.css" type="text/css"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="shortcut icon" href="/images/favicon.png" type="image/png"/>
		<link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Tsungyu Swift dev"/>
	</head>
	<body class="item-page">
		<header>
			<div class="wrapper">
				<a class="site-name" href="/">Tsungyu Swift dev</a>
			</div>
		</header>
		<div class="wrapper">
			<article>
				<div class="content"><h1>iOS 實機測試震動</h1><img src="https://github.com/ytyubox/tryViber-iOS/blob/master/demo-tryViber.jpeg?raw=true"/><p>每次時間不可改，最小間隔 0.5 秒</p><pre><code><span class="keyword">import</span> AudioToolbox

<span class="type">AudioServicesPlayAlertSound</span>(<span class="type">SystemSoundID</span>(kSystemSoundID_Vibrate))
</code></pre><h2>套用 Swift 5.1 的 <code>Property Wrapper</code></h2><pre><code><span class="keyword">import</span>  AudioToolbox

<span class="keyword">@propertyWrapper
struct</span> SoundId {
	<span class="keyword">typealias</span> Value = <span class="type">UInt32</span>
	<span class="keyword">var</span> projectedValue: <span class="type">SystemSoundID</span>
	<span class="keyword">var</span> wrappedValue: <span class="type">Value</span> {
		<span class="keyword">didSet</span> {
			projectedValue = .<span class="keyword">init</span>(<span class="keyword">self</span>.<span class="property">wrappedValue</span>)
		}
	}
	
	<span class="keyword">init</span>(wrappedValue: <span class="type">Value</span>) {
		<span class="keyword">self</span>.<span class="property">projectedValue</span> = <span class="type">SystemSoundID</span>(wrappedValue)
		<span class="keyword">self</span>.<span class="property">wrappedValue</span> = wrappedValue
	}
}

<span class="keyword">class</span> SOMECLASS {
	<span class="keyword">@SoundId var</span> currentSystemEffect = kSystemSoundID_Vibrate
	
	<span class="keyword">func</span> playSound() {
		<span class="type">AudioServicesPlaySystemSound</span>(<span class="keyword">self</span>.$currentSystemEffect)
	}
}
</code></pre></div>
				<span>Tagged with: </span>
				<ul class="tag-list">
					<li>
						<a href="/tags/ios">iOS</a>
					</li>
					<li>
						<a href="/tags/swift">Swift</a>
					</li>
					<li>
						<a href="/tags/try">try</a>
					</li>
				</ul>
			</article>
		</div>
		<footer>
			<p>Generated using 
				<a href="https://github.com/johnsundell/publish">Publish</a>, 100% Swift
			</p>
			<p>
				<a href="/feed.rss">RSS feed</a>
			</p>
		</footer>
	</body>
</html>