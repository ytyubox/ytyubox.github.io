<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"/><meta name="og:site_name" content="æ¸¸è«­ Swift Dev ğŸ¦„"/><link rel="canonical" href="https://ytyubox.github.io/posts/2020/bulid-static-web-by-publish"/><meta name="twitter:url" content="https://ytyubox.github.io/posts/2020/bulid-static-web-by-publish"/><meta name="og:url" content="https://ytyubox.github.io/posts/2020/bulid-static-web-by-publish"/><meta name="google-site-verification" content="laa-5denPCh-d7LKKq_HLxpcMTXZa1R2OSU8L19KmM0"/><title>[#1] å¦‚ä½•é€é Publish ä½¿ç”¨ 100 % Swift code å»ºç«‹ Blog | æ¸¸è«­ Swift Dev ğŸ¦„</title><meta name="twitter:title" content="[#1] å¦‚ä½•é€é Publish ä½¿ç”¨ 100 % Swift code å»ºç«‹ Blog | æ¸¸è«­ Swift Dev ğŸ¦„"/><meta name="og:title" content="[#1] å¦‚ä½•é€é Publish ä½¿ç”¨ 100 % Swift code å»ºç«‹ Blog | æ¸¸è«­ Swift Dev ğŸ¦„"/><meta name="description" content="ä½¿ç”¨ Markdown ç·¨å¯«æ–‡ç« , åˆ©ç”¨ Publish æ¡†æ¶, æ¶è¨­éœæ…‹ç¶²ç«™"/><meta name="twitter:description" content="ä½¿ç”¨ Markdown ç·¨å¯«æ–‡ç« , åˆ©ç”¨ Publish æ¡†æ¶, æ¶è¨­éœæ…‹ç¶²ç«™"/><meta name="og:description" content="ä½¿ç”¨ Markdown ç·¨å¯«æ–‡ç« , åˆ©ç”¨ Publish æ¡†æ¶, æ¶è¨­éœæ…‹ç¶²ç«™"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to æ¸¸è«­ Swift Dev ğŸ¦„"/><meta name="twitter:image" content="https://ytyubox.github.io/images/logo.png"/><meta name="og:image" content="https://ytyubox.github.io/images/logo.png"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">æ¸¸è«­ Swift Dev ğŸ¦„</a><div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-155763530-1"></script><script>				window.dataLayer = window.dataLayer || [];
				function gtag(){dataLayer.push(arguments);}
				gtag('js', new Date());
				gtag('config', 'UA-155763530-1');</script></div><nav><ul><li><a class="selected" href="/posts">posts</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="fb-root"><script async defer crossorigin="anonymous" src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v5.0&appId=1443810799117142&autoLogAppEvents=1"></script></div><div class="wrapper"><article><div class="content"><h1>[#1] å¦‚ä½•é€é Publish ä½¿ç”¨ 100 % Swift code å»ºç«‹ Blog</h1><p>èµ·æº: 2019 å¹´, æ¥è§¸äº†å‰›èµ·æ­¥çš„ <a href="https://www.swiftbysundell.com/">Swift by Sundell</a>, Sundell æ˜¯ä¸€å€‹å…¨è·çš„ä½œè€…, ä¸åƒ…æ¯é€±æœ‰å›ºå®šçš„æ–‡ç« èˆ‡ Podcast, é‚„ä¸æ™‚çš„åœ¨å„å¤§ Swift æœ‰é—œçš„æ¼”è¬›åˆ†äº«, è€Œåœ¨ 2019 å¹´ 12 æœˆåº•, Sundell æ¨å‡ºäº† <a href="https://github.com/JohnSundell/Publish">Publish</a></p><iframe width="560" height="315" src="https://www.youtube.com/embed/pAy6v4MEsnc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>Jhon Sundell @SwiftServerConf, 2019/11</p><blockquote><p><code>Publish</code> æ–¼ 2020 å¹´ 1 æœˆ ç‰ˆè™Ÿæ˜¯ <code>v0.1.0</code>, ä»£è¡¨ é‚„æœ‰ä¸å°‘çš„åŠŸèƒ½é‚„æ²’å¯¦ç¾, Sundell å°æ–¼æ–°åŠŸèƒ½æ˜¯æ¡ç”¨ <code>PR please</code> çš„æ–¹å¼, ä¹Ÿå°±æ˜¯ä¸æ¥å— issue, åªæ¥å—è²¢ç», å› æ­¤æŸç¨®ç¨‹åº¦æ˜¯æ›´æ–°è¼ƒæ…¢çš„.</p></blockquote><h2>Publish æ¡†æ¶ç’°å¢ƒèˆ‡å®‰è£</h2><ol><li>Swift 5.1</li><li>Swift Package manager: swift-tools-version:5.1</li><li>PublishCLI: Publish <code>v0.1.0</code></li></ol><p>Step 1: å®‰è£ <code>Publish</code></p><pre><code class="language-no-highlight">git clone https://github.com/JohnSundell/Publish.git
cd Publish
make
</code></pre><p>é€é <code>MakeFile</code>, å°‡å®‰è£ <code>publish-cli</code> è‡³ <code>/usr/local/bin/</code>, å°±å¯ä»¥ä½¿ç”¨ <code>publish</code></p><p>Step 2: éœæ…‹ç¶²é å»ºç«‹</p><pre><code class="language-no-highlight">mkdir __WEBSITE_NAME__ 
cd __WEBSITE_NAME__
publish new
</code></pre><p>é€é <code>PublishCLI</code> å»ºç«‹ <code>Package.swift</code>, ä¹‹å¾Œå¯ä»¥ç”¨ XCode ç·¨è¼¯</p><h2>Publish æ•´é«”æ¶æ§‹</h2><pre><code class="language-no-highlight">â”œâ”€â”€ Content/
â”‚Â Â  â”œâ”€â”€ index.md
â”‚Â Â  â””â”€â”€ posts/
â”‚Â Â      â”œâ”€â”€ first-post.md
â”‚Â Â      â””â”€â”€ index.md
â”œâ”€â”€ Package.swift
â”œâ”€â”€ Resources/
â””â”€â”€ Sources/
    â””â”€â”€ __WEBSITE_NAME__/
        â””â”€â”€ main.swift

</code></pre><p>Publish æ¡†æ¶ä¸‹ä½¿ç”¨ <code>SPM</code> ä¾†è™•ç†æ•´å€‹ç”± <code>Read *.md</code> ~&gt; <code>gen *.html, Theme.css</code> ~&gt; <code>Site metadata</code> çš„éç¨‹, ç¨‹å¼ç›¸ä¾è³‡æºæ˜¯ç”± <code>Package.swift</code>æ§åˆ¶, åˆ†é çš„è®€å–ç”± <code>main.swift</code>è§¸ç™¼, æ–‡ç« çš„ä¾†æºæ˜¯ç›¸ä¾å¾ <code>Content/</code> å–å¾—, ä¸»è¦è¨­è¨ˆç”± main.swift çš„ <code>try SomeWebsite().publish(...)</code>, å…¶ä¸­åŒ…å«åŸºæœ¬ç¶²ç«™çš„ metaData, building çš„ä»‹å…¥ ç­‰.</p><pre><code><span class="keyword">import</span> Foundation
<span class="keyword">import</span> Publish
<span class="keyword">import</span> Plot

<span class="comment">// This type acts as the configuration for your website.</span>
<span class="keyword">struct</span> Publishdemo: <span class="type">Website</span> {
    <span class="keyword">enum</span> SectionID: <span class="type">String</span>, <span class="type">WebsiteSectionID</span> {
        <span class="keyword">case</span> posts
    }

    <span class="keyword">struct</span> ItemMetadata: <span class="type">WebsiteItemMetadata</span> {
        <span class="comment">// Add any site-specific metadata that you want to use here.</span>
    }

    <span class="comment">// Update these properties to configure your website:</span>
    <span class="keyword">var</span> url = <span class="type">URL</span>(string: <span class="string">"https://your-website-url.com"</span>)!
    <span class="keyword">var</span> name = <span class="string">"Publishdemo"</span>
    <span class="keyword">var</span> description = <span class="string">"A description of Publishdemo"</span>
    <span class="keyword">var</span> language: <span class="type">Language</span> { .<span class="dotAccess">english</span> }
    <span class="keyword">var</span> imagePath: <span class="type">Path</span>? { <span class="keyword">nil</span> }
}

<span class="keyword">try</span> <span class="type">Publishdemo</span>().<span class="call">publish</span>(withTheme: .<span class="dotAccess">foundation</span>)
</code></pre><h2>ä½¿ç”¨ GitHub page ä½œç‚º ç™¼ä½ˆç©ºé–“</h2><p>GitHub åœ¨æ¯å€‹è³¬è™Ÿä¸‹å¯ä»¥æœ‰å›ºå®šä¸€å€‹å…è²»çš„éœæ…‹ç¶²ç«™çš„ç©ºé–“, åŸæ„æ˜¯å¯ä»¥ä½œç‚º open source çš„ doc æˆ–æ˜¯åŸºæœ¬çš„ intro, è€Œä½œç‚ºå€‹äººä½¿ç”¨è³¬è™Ÿ, å¯ä»¥ç”¨ä¾†ä½œç‚ºå€‹äººçš„ blog. 1. èˆ‡GitHub å»ºç«‹ä¸€å€‹ repo, åç¨±å¿…é ˆæ˜¯<code>è©²è³¬è™Ÿ.github.io</code> , é€™æ¨£æ‰å¯ä»¥è¢« GitHub è­˜åˆ¥. 2. (å¾ˆé‡è¦) ä¸è¦å°å“ªå€‹ repo ä½œä»»ä½• push. 3. èˆ‡ä½ çš„ <code>main.swift</code> å…§å»ºçš„<code>.publish(withTheme:)</code>ä¿®æ”¹ç‚ºä¸€ä¸‹</p><pre><code><span class="keyword">try</span> <span class="type">MyWebSite</span>().<span class="call">publish</span>(
    withTheme: .<span class="dotAccess">foundation</span>,
    deployedUsing: .<span class="call">git</span>(<span class="string">"https://github.com/ytyubox/ytyubox.github.io"</span>)
)
</code></pre><ol start="4"><li>ä½¿ç”¨ terminal æŒ‡ä»¤ <code>publish deploy</code> ç›´æ¥ä¸Šå‚³åˆ° GitHub.</li></ol></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/howto">HowTo</a></li><li><a href="/tags/publish">Publish</a></li><li><a href="/tags/swift">Swift</a></li></ul></article></div><div class="fb-comments" data-herf="https://ytyubox.github.io/posts/2020/bulid-static-web-by-publish" data-width data-numposts="10" colorscheme="dark"></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a>, 100% Swift</p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>